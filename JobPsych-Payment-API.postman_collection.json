{
  "info": {
    "name": "JobPsych Payment API",
    "description": "Simplified payment API for JobPsych Pro and Premium plans",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        },
        "description": "Check if the payment service is running"
      }
    },
    {
      "name": "API Documentation",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api",
          "host": ["{{baseUrl}}"],
          "path": ["api"]
        },
        "description": "Get API documentation and available endpoints"
      }
    },
    {
      "name": "Get Available Plans",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/plans",
          "host": ["{{baseUrl}}"],
          "path": ["api", "plans"]
        },
        "description": "Get all available plans (Pro and Premium)"
      }
    },
    {
      "name": "Create Pro Payment",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"pro\",\n  \"customer_email\": \"test@example.com\",\n  \"customer_name\": \"Test User\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Create a payment for the Pro plan ($29.99)"
      }
    },
    {
      "name": "Create Premium Payment",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"premium\",\n  \"customer_email\": \"premium@example.com\",\n  \"customer_name\": \"Premium User\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Create a payment for the Premium plan ($49.99)"
      }
    },
    {
      "name": "Create Payment - Minimal (No Name)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"pro\",\n  \"customer_email\": \"minimal@example.com\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Create a payment with minimal required fields"
      }
    },
    {
      "name": "Invalid Plan Test",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"basic\",\n  \"customer_email\": \"test@example.com\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Test with invalid plan - should return validation error"
      }
    },
    {
      "name": "Missing Email Test",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"pro\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Test missing email - should return validation error"
      }
    },
    {
      "name": "No Content-Type Test",
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"plan\": \"pro\",\n  \"customer_email\": \"test@example.com\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/api/pay",
          "host": ["{{baseUrl}}"],
          "path": ["api", "pay"]
        },
        "description": "Test without Content-Type header - should return error"
      }
    },
    {
      "name": "Get Payment Status",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/status/pi_3RgjWOBD8fyBOgMZ1TrI3hjG",
          "host": ["{{baseUrl}}"],
          "path": ["api", "status", "pi_3RgjWOBD8fyBOgMZ1TrI3hjG"]
        },
        "description": "Get payment status by payment ID (replace with actual payment ID from payment response)"
      }
    },
    {
      "name": "Invalid Payment ID Test",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/api/status/invalid_id",
          "host": ["{{baseUrl}}"],
          "path": ["api", "status", "invalid_id"]
        },
        "description": "Test with invalid payment ID format - should return validation error"
      }
    }
  ]
}
